<html lang="ru"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Торговая Статистика - Грабитель ММ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script><style id="plotly.js-style-global"></style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet">
    <style>
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse-green { 0%, 100% { text-shadow: 0 0 5px #10b981, 0 0 10px #10b981; } 50% { text-shadow: 0 0 10px #34d399, 0 0 20px #34d399; } }
        @keyframes pulse-cyan { 0%, 100% { text-shadow: 0 0 5px #22d3ee, 0 0 10px #22d3ee; } 50% { text-shadow: 0 0 10px #67e8f9, 0 0 20px #67e8f9; } }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        #background-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
        }
        .card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.4), rgba(15, 23, 42, 0.4));
            border: 1px solid rgba(51, 65, 85, 0.5);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transition: all 0.2s ease-out;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.5s ease-out forwards;
            transform-style: preserve-3d;
            box-shadow: 0 0 0 1px rgba(51, 65, 85, 0.7), 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .card:hover {
            border-color: rgba(34, 211, 238, 0.4);
            box-shadow: 0 0 0 1px rgba(34, 211, 238, 0.5), 0 10px 40px rgba(0,0,0,0.4);
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        .modal-backdrop {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
            z-index: 40; opacity: 0; transition: opacity 0.3s ease; pointer-events: none;
        }
        .modal-backdrop.active { opacity: 1; pointer-events: all; }
        .modal-content {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            z-index: 50; opacity: 0; transition: all 0.3s ease; pointer-events: none;
        }
        .modal-content.active { transform: translate(-50%, -50%) scale(1); opacity: 1; pointer-events: all; }
        .title-glow { text-shadow: 0 0 10px rgba(16, 185, 129, 0.5), 0 0 25px rgba(14, 165, 233, 0.3); }
        .metric-pnl { animation: pulse-green 4s infinite ease-in-out; }
        .metric-winrate { animation: pulse-cyan 4s infinite ease-in-out; }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.relative{position:relative}.sticky{position:sticky}.top-0{top:0px}.z-10{z-index:10}.col-span-2{grid-column:span 2 / span 2}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:0.25rem;margin-bottom:0.25rem}.mb-12{margin-bottom:3rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mt-1{margin-top:0.25rem}.mt-12{margin-top:3rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mb-2{margin-bottom:0.5rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.h-48{height:12rem}.h-80{height:20rem}.h-96{height:24rem}.h-full{height:100%}.h-3{height:0.75rem}.max-h-\[28rem\]{max-height:28rem}.min-h-screen{min-height:100vh}.w-full{width:100%}.w-3{width:0.75rem}.max-w-4xl{max-width:56rem}.max-w-sm{max-width:24rem}.flex-grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-crosshair{cursor:crosshair}.cursor-e-resize{cursor:e-resize}.cursor-ew-resize{cursor:ew-resize}.cursor-n-resize{cursor:n-resize}.cursor-ne-resize{cursor:ne-resize}.cursor-ns-resize{cursor:ns-resize}.cursor-nw-resize{cursor:nw-resize}.cursor-s-resize{cursor:s-resize}.cursor-se-resize{cursor:se-resize}.cursor-sw-resize{cursor:sw-resize}.cursor-w-resize{cursor:w-resize}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-1\.5{gap:0.375rem}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.whitespace-nowrap{white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-lg{border-radius:0.5rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.border-slate-800{--tw-border-opacity:1;border-color:rgb(30 41 59 / var(--tw-border-opacity, 1))}.bg-cyan-600{--tw-bg-opacity:1;background-color:rgb(8 145 178 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-slate-600{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.bg-slate-800\/50{background-color:rgb(30 41 59 / 0.5)}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-green-500\/10{background-color:rgb(34 197 94 / 0.1)}.bg-red-500\/10{background-color:rgb(239 68 68 / 0.1)}.bg-slate-900\/50{background-color:rgb(15 23 42 / 0.5)}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-green-400{--tw-gradient-from:#4ade80 var(--tw-gradient-from-position);--tw-gradient-to:rgb(74 222 128 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-cyan-400{--tw-gradient-to:#22d3ee var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-3{padding:0.75rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-2\.5{padding-top:0.625rem;padding-bottom:0.625rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.pt-2{padding-top:0.5rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.tracking-tight{letter-spacing:-0.025em}.text-cyan-400{--tw-text-opacity:1;color:rgb(34 211 238 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-green-600\/20{--tw-shadow-color:rgb(22 163 74 / 0.2);--tw-shadow:var(--tw-shadow-colored)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-cyan-500:hover{--tw-bg-opacity:1;background-color:rgb(6 182 212 / var(--tw-bg-opacity, 1))}.hover\:bg-green-500:hover{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-500:hover{--tw-bg-opacity:1;background-color:rgb(100 116 139 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-700\/50:hover{background-color:rgb(51 65 85 / 0.5)}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:border-green-500:focus{--tw-border-opacity:1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.focus\:ring-green-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(34 197 94 / var(--tw-ring-opacity, 1))}@media (min-width: 640px){.sm\:p-6{padding:1.5rem}}@media (min-width: 768px){.md\:text-left{text-align:left}.md\:text-5xl{font-size:3rem;line-height:1}}@media (min-width: 1024px){.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:col-span-3{grid-column:span 3 / span 3}.lg\:table{display:table}.lg\:hidden{display:none}.lg\:grid-cols-5{grid-template-columns:repeat(5, minmax(0, 1fr))}.lg\:p-8{padding:2rem}}</style></head>
<body class="antialiased min-h-screen">
    <canvas id="background-canvas" width="1366" height="628"></canvas>
    <div class="container mx-auto p-4 sm:p-6 lg:p-8 relative z-10">
        <header class="text-center mb-12" style="animation: fadeIn 1s ease-out;">
            <h1 class="text-4xl md:text-5xl font-extrabold text-white tracking-tight title-glow">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-cyan-400">Статистика: Грабитель ММ</span>
            </h1>
            <p id="last-update" class="text-slate-400 mt-3 text-sm">Последнее обновление: N/A</p>
        </header>
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
            <div class="lg:col-span-2 flex flex-col gap-6" style="perspective: 1000px;">
                <div class="card rounded-2xl p-6 grid grid-cols-2 gap-6" style="transform: rotateX(0deg) rotateY(0deg);">
                    <div class="col-span-2 text-lg font-bold text-slate-200">Ключевые метрики</div>
                    <div><span class="text-sm text-slate-400">Чистое движение</span><p id="summary-total_pnl" class="text-2xl font-bold text-green-400 metric-pnl">N/A</p></div>
                    <div><span class="text-sm text-slate-400">Винрейт</span><p id="summary-winrate" class="text-2xl font-bold text-cyan-400 metric-winrate">N/A</p></div>
                    <div><span class="text-sm text-slate-400">Всего сделок</span><p id="summary-total_deals" class="text-2xl font-bold text-slate-200">N/A</p></div>
                    <div class="h-24"><div id="summary-chart" class="w-full h-full js-plotly-plot"><div class="plot-container plotly"><div class="user-select-none svg-container" style="position: relative; width: 100%; height: 100%;"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="199" height="96" style="background: rgba(0, 0, 0, 0);"><defs id="defs-123494"><g class="clips"></g><g class="gradients"></g><g class="patterns"></g></defs><g class="bglayer"></g><g class="draglayer"></g><g class="layer-below"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="cartesianlayer"></g><g class="polarlayer"></g><g class="smithlayer"></g><g class="ternarylayer"></g><g class="geolayer"></g><g class="funnelarealayer"></g><g class="pielayer"></g><g class="iciclelayer"></g><g class="treemaplayer"></g><g class="sunburstlayer"></g><g class="glimages"></g></svg><div class="gl-container"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="199" height="96"><defs id="topdefs-123494"><g class="clips"></g></defs><g class="indicatorlayer"></g><g class="layer-above"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="selectionlayer"></g><g class="infolayer"><g class="g-gtitle"></g></g><g class="menulayer"></g><g class="zoomlayer"></g></svg><div class="modebar-container" style="position: absolute; top: 0px; right: 0px; width: 100%;"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="199" height="96"><g class="hoverlayer"></g></svg></div></div></div></div>
                </div>
                <div class="card rounded-2xl p-6" style="transform: rotateX(0deg) rotateY(0deg);">
                    <h2 class="text-lg font-bold mb-4 text-slate-200">Кастомная симуляция</h2>
                    <form id="custom-sim-form" class="space-y-4">
                        <div>
                            <label for="balance" class="text-sm font-medium text-slate-400">Начальный баланс ($)</label>
                            <input type="number" id="balance" value="1000" class="mt-1 block w-full bg-slate-800/50 border-slate-700 rounded-lg shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div>
                            <label for="risk" class="text-sm font-medium text-slate-400">Риск на сделку (%)</label>
                            <input type="number" id="risk" value="3" class="mt-1 block w-full bg-slate-800/50 border-slate-700 rounded-lg shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div>
                            <label for="leverage" class="text-sm font-medium text-slate-400">Кредитное плечо (x)</label>
                            <input type="number" id="leverage" value="35" class="mt-1 block w-full bg-slate-800/50 border-slate-700 rounded-lg shadow-sm py-2 px-3 focus:ring-green-500 focus:border-green-500">
                        </div>
                        <div class="flex space-x-4 pt-2">
                            <button type="submit" data-sim-type="compound" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg shadow-green-600/20">Сложный %</button>
                            <button type="submit" data-sim-type="simple" class="w-full bg-slate-600 hover:bg-slate-500 text-white font-bold py-2.5 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">Простой %</button>
                        </div>
                    </form>
                </div>
                <div id="simulation-section" class="card rounded-2xl p-6" style="transform: rotateX(0deg) rotateY(0deg);">
                     <h2 class="text-lg font-bold mb-4 text-slate-200">Результаты симуляции</h2>
                     <div id="simulation-results" class="text-slate-400 mb-4">
                <div class="text-center md:text-left">
                    <p class="text-sm text-slate-400">Итоговая прибыль</p>
                    <p id="sim-final-percent" class="text-4xl font-extrabold text-green-400 my-1">153.18%</p>
                    <p id="sim-final-balance" class="text-lg font-bold text-white">$2,532</p>
                    <p class="text-sm text-slate-400">Множитель: <span id="sim-x-depo">2.53</span>x</p>
                </div></div>
                     <div id="simulation-chart" class="w-full h-48 js-plotly-plot"><div class="plot-container plotly"><div class="user-select-none svg-container" style="position: relative; width: 100%; height: 100%;"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="422" height="192" style="background: rgba(0, 0, 0, 0);"><defs id="defs-6b8f38"><g class="clips"><clipPath id="clip6b8f38xyplot" class="plotclip"><rect width="362" height="152"></rect></clipPath><clipPath class="axesclip" id="clip6b8f38x"><rect x="40" y="0" width="362" height="192"></rect></clipPath><clipPath class="axesclip" id="clip6b8f38y"><rect x="0" y="20" width="422" height="152"></rect></clipPath><clipPath class="axesclip" id="clip6b8f38xy"><rect x="40" y="20" width="362" height="152"></rect></clipPath></g><g class="gradients"></g><g class="patterns"></g></defs><g class="bglayer"><rect class="bg" x="40" y="20" width="362" height="152" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke-width: 0;"></rect></g><g class="draglayer cursor-crosshair"><g class="xy"><rect class="nsewdrag drag" data-subplot="xy" x="40" y="20" width="362" height="152" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nwdrag drag cursor-nw-resize" data-subplot="xy" x="20" y="0" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nedrag drag cursor-ne-resize" data-subplot="xy" x="402" y="0" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="swdrag drag cursor-sw-resize" data-subplot="xy" x="20" y="172" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="sedrag drag cursor-se-resize" data-subplot="xy" x="402" y="172" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="ewdrag drag cursor-ew-resize" data-subplot="xy" x="76.2" y="172.5" width="289.6" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="wdrag drag cursor-w-resize" data-subplot="xy" x="40" y="172.5" width="36.2" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="edrag drag cursor-e-resize" data-subplot="xy" x="365.8" y="172.5" width="36.2" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nsdrag drag cursor-ns-resize" data-subplot="xy" x="19.5" y="35.2" width="20" height="121.60000000000001" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="sdrag drag cursor-s-resize" data-subplot="xy" x="19.5" y="156.8" width="20" height="15.200000000000001" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="ndrag drag cursor-n-resize" data-subplot="xy" x="19.5" y="20" width="20" height="15.200000000000001" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect></g></g><g class="layer-below"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"></g><g class="imagelayer"></g></g><g class="minor-gridlayer"><g class="x"></g><g class="y"></g></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(113.88,0)" d="M0,20v152" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(187.76,0)" d="M0,20v152" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(261.63,0)" d="M0,20v152" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(335.51,0)" d="M0,20v152" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path></g><g class="y"><path class="ygrid crisp" transform="translate(0,121.48)" d="M40,0h362" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,80.53)" d="M40,0h362" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,39.58)" d="M40,0h362" style="stroke: rgb(238, 238, 238); stroke-opacity: 1; stroke-width: 1px;"></path></g></g><g class="zerolinelayer"><path class="yzl zl crisp" transform="translate(0,162.43)" d="M40,0h362" style="stroke: rgb(68, 68, 68); stroke-opacity: 1; stroke-width: 1px;"></path></g><g class="layer-between"><g class="shapelayer"></g><g class="imagelayer"></g></g><path class="xlines-below"></path><path class="ylines-below"></path><g class="overlines-below"></g><g class="xaxislayer-below"></g><g class="yaxislayer-below"></g><g class="overaxes-below"></g><g class="plot" transform="translate(40,20)" clip-path="url(#clip6b8f38xyplot)"><g class="scatterlayer mlayer"><g class="trace scatter trace54774b" style="stroke-miterlimit: 2;"><g class="fills"><g><path class="js-fill" d="M362,142.43L0,142.43L0,142.43Q2.5,142.13 3.69,142.43C4.96,142.75 6.14,144.34 7.39,144.4C8.61,144.46 9.84,143.34 11.08,142.9C12.3,142.46 13.66,142.55 14.78,141.75C16.2,140.73 17.29,138.51 18.47,136.67C19.76,134.66 20.84,132.05 22.16,130.14C23.32,128.46 24.55,125.88 25.86,125.72C27.03,125.57 28.39,128.55 29.55,128.39C30.87,128.21 31.86,124.78 33.24,123.72C34.37,122.84 35.8,121.83 36.94,122.09C38.3,122.4 39.28,125.36 40.63,126.42C41.78,127.32 43.1,127.65 44.33,128.29C45.57,128.94 46.9,130.56 48.02,130.28C49.43,129.93 50.32,126.1 51.71,124.74C52.84,123.64 54.12,122.78 55.41,122.41C56.59,122.07 57.95,121.95 59.1,122.41C60.45,122.95 61.54,124.83 62.8,125.92C64.01,126.97 65.35,129.04 66.49,128.86C67.85,128.64 68.86,124.84 70.18,123.2C71.34,121.75 72.75,121 73.88,119.45C75.27,117.54 76.01,113.56 77.57,112.36C78.65,111.54 80.18,112.34 81.27,111.55C82.78,110.45 83.43,106.09 84.96,105.21C86.04,104.59 87.52,104.7 88.65,105.21C90.04,105.84 90.96,108.77 92.35,109.4C93.48,109.91 94.85,109.1 96.04,109.4C97.31,109.72 98.46,111.04 99.73,111.36C100.93,111.66 102.37,112.05 103.43,111.36C105.1,110.26 105.89,105.72 107.12,102.88C108.36,100.02 109.59,97.13 110.82,94.24C112.06,91.32 113.02,85.77 114.51,85.45C115.6,85.22 116.9,88.73 118.2,88.92C119.38,89.09 120.69,87.75 121.9,87.05C123.15,86.33 124.45,84.43 125.59,84.63C126.94,84.87 128.17,89.71 129.29,89.56C130.7,89.38 131.34,82.2 132.98,80.46C134.04,79.34 135.63,79.89 136.67,78.71C138.44,76.72 139.01,67.73 140.37,67.63C141.51,67.55 142.67,72.97 144.06,74.95C145.19,76.55 146.57,77.42 147.76,78.85C149.05,80.4 150.01,83.23 151.45,83.97C152.55,84.54 153.99,83.53 155.14,83.97C156.48,84.48 157.5,86.76 158.84,87.27C159.99,87.71 161.44,86.66 162.53,87.27C164.04,88.12 164.76,92.88 166.22,93.34C167.32,93.69 168.66,92.04 169.92,91.72C171.13,91.42 172.52,90.89 173.61,91.43C175.1,92.17 176.05,97.19 177.31,97.23C178.51,97.27 179.62,92.49 181,92.19C182.13,91.94 183.41,93.91 184.69,94.24C185.88,94.55 187.16,94.24 188.39,94.24C189.62,94.24 190.85,94.24 192.08,94.24C193.31,94.24 194.69,94.85 195.78,94.24C197.28,93.41 198.26,90.32 199.47,88.29C200.72,86.2 201.64,82.95 203.16,81.87C204.25,81.1 205.62,81.28 206.86,81.16C208.09,81.04 209.32,81.16 210.55,81.16C211.78,81.16 213.13,80.6 214.24,81.16C215.68,81.89 216.74,84.45 217.94,86.22C219.2,88.08 220.4,90.12 221.63,92.07C222.86,94.02 223.91,96.56 225.33,97.91C226.44,98.97 227.76,99.86 229.02,99.98C230.23,100.09 231.57,99.48 232.71,98.74C234.07,97.86 235.06,95.59 236.41,94.69C237.55,93.93 239.05,94.39 240.1,93.36C241.8,91.71 242.55,86.96 243.8,83.87C245.01,80.89 245.8,76.26 247.49,75.14C248.54,74.44 249.97,75.37 251.18,75.14C252.44,74.9 253.62,73.91 254.88,73.67C256.09,73.44 257.36,73.46 258.57,73.67C259.82,73.89 261.02,74.79 262.27,75.01C263.48,75.22 264.73,75.01 265.96,75.01C267.19,75.01 268.61,75.75 269.65,75.01C271.47,73.72 272.11,67.86 273.35,64.34C274.57,60.89 275.63,56.95 277.04,54.09C278.16,51.83 279.58,50.51 280.73,48.37C282.07,45.88 283.01,40.14 284.43,39.93C285.55,39.77 287.07,44.54 288.12,44.3C289.8,43.92 289.78,31.81 291.82,30.24C292.85,29.45 294.43,29.61 295.51,30.24C297.04,31.13 297.72,36.21 299.2,36.68C300.3,37.03 301.85,36.12 302.9,34.96C304.65,33.01 305.2,24.28 306.59,24.15C307.72,24.04 308.75,29.75 310.29,30.64C311.37,31.27 312.75,30.64 313.98,30.64C315.21,30.64 316.61,29.95 317.67,30.64C319.33,31.72 319.81,38.51 321.37,39C322.44,39.34 323.78,37.24 325.06,36.76C326.25,36.31 327.57,36.56 328.76,36.11C330.04,35.62 331.32,34.9 332.45,33.84C333.83,32.54 334.92,30.36 336.14,28.58C337.38,26.77 338.76,25.39 339.84,23.05C341.38,19.72 341.72,12.56 343.53,10.07C344.57,8.64 345.93,7.99 347.22,7.6C348.4,7.24 349.69,7.6 350.92,7.6C352.15,7.6 353.38,7.6 354.61,7.6C355.84,7.6 357.26,6.89 358.31,7.6Q360.04,8.78 362,16.98" style="fill: rgb(16, 185, 129); fill-opacity: 0.2; stroke-width: 0;"></path></g></g><g class="errorbars"></g><g class="lines"><path class="js-line" d="M0,142.43Q2.5,142.13 3.69,142.43C4.96,142.75 6.14,144.34 7.39,144.4C8.61,144.46 9.84,143.34 11.08,142.9C12.3,142.46 13.66,142.55 14.78,141.75C16.2,140.73 17.29,138.51 18.47,136.67C19.76,134.66 20.84,132.05 22.16,130.14C23.32,128.46 24.55,125.88 25.86,125.72C27.03,125.57 28.39,128.55 29.55,128.39C30.87,128.21 31.86,124.78 33.24,123.72C34.37,122.84 35.8,121.83 36.94,122.09C38.3,122.4 39.28,125.36 40.63,126.42C41.78,127.32 43.1,127.65 44.33,128.29C45.57,128.94 46.9,130.56 48.02,130.28C49.43,129.93 50.32,126.1 51.71,124.74C52.84,123.64 54.12,122.78 55.41,122.41C56.59,122.07 57.95,121.95 59.1,122.41C60.45,122.95 61.54,124.83 62.8,125.92C64.01,126.97 65.35,129.04 66.49,128.86C67.85,128.64 68.86,124.84 70.18,123.2C71.34,121.75 72.75,121 73.88,119.45C75.27,117.54 76.01,113.56 77.57,112.36C78.65,111.54 80.18,112.34 81.27,111.55C82.78,110.45 83.43,106.09 84.96,105.21C86.04,104.59 87.52,104.7 88.65,105.21C90.04,105.84 90.96,108.77 92.35,109.4C93.48,109.91 94.85,109.1 96.04,109.4C97.31,109.72 98.46,111.04 99.73,111.36C100.93,111.66 102.37,112.05 103.43,111.36C105.1,110.26 105.89,105.72 107.12,102.88C108.36,100.02 109.59,97.13 110.82,94.24C112.06,91.32 113.02,85.77 114.51,85.45C115.6,85.22 116.9,88.73 118.2,88.92C119.38,89.09 120.69,87.75 121.9,87.05C123.15,86.33 124.45,84.43 125.59,84.63C126.94,84.87 128.17,89.71 129.29,89.56C130.7,89.38 131.34,82.2 132.98,80.46C134.04,79.34 135.63,79.89 136.67,78.71C138.44,76.72 139.01,67.73 140.37,67.63C141.51,67.55 142.67,72.97 144.06,74.95C145.19,76.55 146.57,77.42 147.76,78.85C149.05,80.4 150.01,83.23 151.45,83.97C152.55,84.54 153.99,83.53 155.14,83.97C156.48,84.48 157.5,86.76 158.84,87.27C159.99,87.71 161.44,86.66 162.53,87.27C164.04,88.12 164.76,92.88 166.22,93.34C167.32,93.69 168.66,92.04 169.92,91.72C171.13,91.42 172.52,90.89 173.61,91.43C175.1,92.17 176.05,97.19 177.31,97.23C178.51,97.27 179.62,92.49 181,92.19C182.13,91.94 183.41,93.91 184.69,94.24C185.88,94.55 187.16,94.24 188.39,94.24C189.62,94.24 190.85,94.24 192.08,94.24C193.31,94.24 194.69,94.85 195.78,94.24C197.28,93.41 198.26,90.32 199.47,88.29C200.72,86.2 201.64,82.95 203.16,81.87C204.25,81.1 205.62,81.28 206.86,81.16C208.09,81.04 209.32,81.16 210.55,81.16C211.78,81.16 213.13,80.6 214.24,81.16C215.68,81.89 216.74,84.45 217.94,86.22C219.2,88.08 220.4,90.12 221.63,92.07C222.86,94.02 223.91,96.56 225.33,97.91C226.44,98.97 227.76,99.86 229.02,99.98C230.23,100.09 231.57,99.48 232.71,98.74C234.07,97.86 235.06,95.59 236.41,94.69C237.55,93.93 239.05,94.39 240.1,93.36C241.8,91.71 242.55,86.96 243.8,83.87C245.01,80.89 245.8,76.26 247.49,75.14C248.54,74.44 249.97,75.37 251.18,75.14C252.44,74.9 253.62,73.91 254.88,73.67C256.09,73.44 257.36,73.46 258.57,73.67C259.82,73.89 261.02,74.79 262.27,75.01C263.48,75.22 264.73,75.01 265.96,75.01C267.19,75.01 268.61,75.75 269.65,75.01C271.47,73.72 272.11,67.86 273.35,64.34C274.57,60.89 275.63,56.95 277.04,54.09C278.16,51.83 279.58,50.51 280.73,48.37C282.07,45.88 283.01,40.14 284.43,39.93C285.55,39.77 287.07,44.54 288.12,44.3C289.8,43.92 289.78,31.81 291.82,30.24C292.85,29.45 294.43,29.61 295.51,30.24C297.04,31.13 297.72,36.21 299.2,36.68C300.3,37.03 301.85,36.12 302.9,34.96C304.65,33.01 305.2,24.28 306.59,24.15C307.72,24.04 308.75,29.75 310.29,30.64C311.37,31.27 312.75,30.64 313.98,30.64C315.21,30.64 316.61,29.95 317.67,30.64C319.33,31.72 319.81,38.51 321.37,39C322.44,39.34 323.78,37.24 325.06,36.76C326.25,36.31 327.57,36.56 328.76,36.11C330.04,35.62 331.32,34.9 332.45,33.84C333.83,32.54 334.92,30.36 336.14,28.58C337.38,26.77 338.76,25.39 339.84,23.05C341.38,19.72 341.72,12.56 343.53,10.07C344.57,8.64 345.93,7.99 347.22,7.6C348.4,7.24 349.69,7.6 350.92,7.6C352.15,7.6 353.38,7.6 354.61,7.6C355.84,7.6 357.26,6.89 358.31,7.6Q360.04,8.78 362,16.98" style="vector-effect: non-scaling-stroke; fill: none; stroke: rgb(16, 185, 129); stroke-opacity: 1; stroke-width: 2.5px; opacity: 1;"></path></g><g class="points"></g><g class="text"></g></g></g></g><g class="overplot"></g><path class="xlines-above crisp" d="M40,172.5H402" style="fill: none; stroke-width: 1px; stroke: rgb(51, 65, 85); stroke-opacity: 1;"></path><path class="ylines-above crisp" d="M0,0" style="fill: none;"></path><g class="overlines-above"></g><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="187.4" data-unformatted="0" data-math="N" transform="translate(40,0)" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;">0</text></g><g class="xtick"><text text-anchor="middle" x="0" y="187.4" data-unformatted="20" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(113.88,0)">20</text></g><g class="xtick"><text text-anchor="middle" x="0" y="187.4" data-unformatted="40" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(187.76,0)">40</text></g><g class="xtick"><text text-anchor="middle" x="0" y="187.4" data-unformatted="60" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(261.63,0)">60</text></g><g class="xtick"><text text-anchor="middle" x="0" y="187.4" data-unformatted="80" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(335.51,0)">80</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="39" y="4.199999999999999" data-unformatted="0" data-math="N" transform="translate(0,162.43)" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;">0</text></g><g class="ytick"><text text-anchor="end" x="39" y="4.199999999999999" data-unformatted="50" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,121.48)">50</text></g><g class="ytick"><text text-anchor="end" x="39" y="4.199999999999999" data-unformatted="100" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,80.53)">100</text></g><g class="ytick"><text text-anchor="end" x="39" y="4.199999999999999" data-unformatted="150" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,39.58)">150</text></g></g><g class="overaxes-above"></g></g></g><g class="polarlayer"></g><g class="smithlayer"></g><g class="ternarylayer"></g><g class="geolayer"></g><g class="funnelarealayer"></g><g class="pielayer"></g><g class="iciclelayer"></g><g class="treemaplayer"></g><g class="sunburstlayer"></g><g class="glimages"></g></svg><div class="gl-container"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="422" height="192"><defs id="topdefs-6b8f38"><g class="clips"></g></defs><g class="indicatorlayer"></g><g class="layer-above"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="selectionlayer"></g><g class="infolayer"><g class="g-gtitle"></g><g class="g-xtitle"></g><g class="g-ytitle"></g></g><g class="menulayer"></g><g class="zoomlayer"></g></svg><div class="modebar-container" style="position: absolute; top: 0px; right: 0px; width: 100%;"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="422" height="192"><g class="hoverlayer"></g></svg></div></div></div>
                </div>
            </div>
            <div class="lg:col-span-3 flex flex-col gap-6" style="perspective: 1000px;">
                <div class="card rounded-2xl p-4 sm:p-6" style="transform: rotateX(0deg) rotateY(0deg);">
                    <h2 class="text-lg font-bold mb-4 text-center text-slate-200">Динамика общего PnL (%)</h2>
                    <div id="pnl-chart" class="w-full h-80 js-plotly-plot"><div class="plot-container plotly"><div class="user-select-none svg-container" style="position: relative; width: 100%; height: 100%;"><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="670" height="320" style="background: rgba(0, 0, 0, 0);"><defs id="defs-dc21fa"><g class="clips"><clipPath id="clipdc21faxyplot" class="plotclip"><rect width="590" height="260"></rect></clipPath><clipPath class="axesclip" id="clipdc21fax"><rect x="60" y="0" width="590" height="320"></rect></clipPath><clipPath class="axesclip" id="clipdc21fay"><rect x="0" y="20" width="670" height="260"></rect></clipPath><clipPath class="axesclip" id="clipdc21faxy"><rect x="60" y="20" width="590" height="260"></rect></clipPath></g><g class="gradients"></g><g class="patterns"></g></defs><g class="bglayer"><rect class="bg" x="60" y="20" width="590" height="260" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke-width: 0;"></rect></g><g class="draglayer cursor-crosshair"><g class="xy"><rect class="nsewdrag drag" data-subplot="xy" x="60" y="20" width="590" height="260" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nwdrag drag cursor-nw-resize" data-subplot="xy" x="40" y="0" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nedrag drag cursor-ne-resize" data-subplot="xy" x="650" y="0" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="swdrag drag cursor-sw-resize" data-subplot="xy" x="40" y="280" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="sedrag drag cursor-se-resize" data-subplot="xy" x="650" y="280" width="20" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="ewdrag drag cursor-ew-resize" data-subplot="xy" x="119" y="280.5" width="472" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="wdrag drag cursor-w-resize" data-subplot="xy" x="60" y="280.5" width="59" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="edrag drag cursor-e-resize" data-subplot="xy" x="591" y="280.5" width="59" height="20" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="nsdrag drag cursor-ns-resize" data-subplot="xy" x="39.5" y="46" width="20" height="208" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="sdrag drag cursor-s-resize" data-subplot="xy" x="39.5" y="254" width="20" height="26" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect><rect class="ndrag drag cursor-n-resize" data-subplot="xy" x="39.5" y="20" width="20" height="26" style="fill: transparent; stroke-width: 0; pointer-events: all;"></rect></g></g><g class="layer-below"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="cartesianlayer"><g class="subplot xy"><g class="layer-subplot"><g class="shapelayer"></g><g class="imagelayer"></g></g><g class="minor-gridlayer"><g class="x"></g><g class="y"></g></g><g class="gridlayer"><g class="x"><path class="xgrid crisp" transform="translate(207.5,0)" d="M0,20v260" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(355,0)" d="M0,20v260" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="xgrid crisp" transform="translate(502.5,0)" d="M0,20v260" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path></g><g class="y"><path class="ygrid crisp" transform="translate(0,215)" d="M60,0h590" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,150)" d="M60,0h590" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path><path class="ygrid crisp" transform="translate(0,85)" d="M60,0h590" style="stroke: rgb(51, 65, 85); stroke-opacity: 0.3; stroke-width: 1px;"></path></g></g><g class="zerolinelayer"></g><g class="layer-between"><g class="shapelayer"></g><g class="imagelayer"></g></g><path class="xlines-below"></path><path class="ylines-below"></path><g class="overlines-below"></g><g class="xaxislayer-below"></g><g class="yaxislayer-below"></g><g class="overaxes-below"></g><g class="plot" transform="translate(60,20)" clip-path="url(#clipdc21faxyplot)"><g class="scatterlayer mlayer"><g class="trace scatter trace3677b1" style="stroke-miterlimit: 2;"><g class="fills"><g><path class="js-fill" d="M295,130L295,130L295,130" style="fill: rgb(14, 165, 233); fill-opacity: 0.1; stroke-width: 0;"></path></g></g><g class="errorbars"></g><g class="lines"><path class="js-line" d="M295,130" style="vector-effect: non-scaling-stroke; fill: none; stroke: rgb(34, 211, 238); stroke-opacity: 1; stroke-width: 3px; opacity: 1;"></path></g><g class="points"></g><g class="text"></g></g></g></g><g class="overplot"></g><path class="xlines-above crisp" d="M59,280.5H650" style="fill: none; stroke-width: 1px; stroke: rgb(51, 65, 85); stroke-opacity: 1;"></path><path class="ylines-above crisp" d="M59.5,20V280" style="fill: none; stroke-width: 1px; stroke: rgb(51, 65, 85); stroke-opacity: 1;"></path><g class="overlines-above"></g><g class="xaxislayer-above"><g class="xtick"><text text-anchor="middle" x="0" y="295.4" data-unformatted="0" data-math="N" transform="translate(60,0)" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;">0</text></g><g class="xtick"><text text-anchor="middle" x="0" y="295.4" data-unformatted="0.5" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(207.5,0)">0.5</text></g><g class="xtick"><text text-anchor="middle" x="0" y="295.4" data-unformatted="1" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(355,0)">1</text></g><g class="xtick"><text text-anchor="middle" x="0" y="295.4" data-unformatted="1.5" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(502.5,0)">1.5</text></g><g class="xtick"><text text-anchor="middle" x="0" y="295.4" data-unformatted="2" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(650,0)">2</text></g></g><g class="yaxislayer-above"><g class="ytick"><text text-anchor="end" x="56.6" y="4.199999999999999" data-unformatted="−1" data-math="N" transform="translate(0,280)" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;">−1</text></g><g class="ytick"><text text-anchor="end" x="56.6" y="4.199999999999999" data-unformatted="−0.5" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,215)">−0.5</text></g><g class="ytick"><text text-anchor="end" x="56.6" y="4.199999999999999" data-unformatted="0" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,150)">0</text></g><g class="ytick"><text text-anchor="end" x="56.6" y="4.199999999999999" data-unformatted="0.5" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,85)">0.5</text></g><g class="ytick"><text text-anchor="end" x="56.6" y="4.199999999999999" data-unformatted="1" data-math="N" style="font-family: Inter, sans-serif; font-size: 12px; fill: rgb(226, 232, 240); fill-opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre; opacity: 1;" transform="translate(0,20)">1</text></g></g><g class="overaxes-above"></g></g></g><g class="polarlayer"></g><g class="smithlayer"></g><g class="ternarylayer"></g><g class="geolayer"></g><g class="funnelarealayer"></g><g class="pielayer"></g><g class="iciclelayer"></g><g class="treemaplayer"></g><g class="sunburstlayer"></g><g class="glimages"></g></svg><div class="gl-container"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="670" height="320"><defs id="topdefs-dc21fa"><g class="clips"></g></defs><g class="indicatorlayer"></g><g class="layer-above"><g class="imagelayer"></g><g class="shapelayer"></g></g><g class="selectionlayer"></g><g class="infolayer"><g class="g-gtitle"></g><g class="g-xtitle" transform="translate(0,-15)"><text class="xtitle" x="355" y="332" text-anchor="middle" data-unformatted="Номер сделки" data-math="N" style="font-family: Inter, sans-serif; font-size: 14px; fill: rgb(226, 232, 240); opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre;">Номер сделки</text></g><g class="g-ytitle"><text class="ytitle" transform="rotate(-90,22,150)" x="22" y="150" text-anchor="middle" data-unformatted="Кумулятивный PnL (%)" data-math="N" style="font-family: Inter, sans-serif; font-size: 14px; fill: rgb(226, 232, 240); opacity: 1; font-weight: normal; font-style: normal; font-variant: normal; white-space: pre;">Кумулятивный PnL (%)</text></g></g><g class="menulayer"></g><g class="zoomlayer"></g></svg><div class="modebar-container" style="position: absolute; top: 0px; right: 0px; width: 100%;"></div><svg class="main-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="670" height="320"><g class="hoverlayer"></g></svg></div></div></div>
                </div>
                <div class="card rounded-2xl p-4 sm:p-6 flex-grow" style="transform: rotateX(0deg) rotateY(0deg);">
                     <h2 class="text-lg font-bold mb-4 text-slate-200">История сделок</h2>
                     <div id="trades-list-container" class="overflow-auto max-h-[28rem]"><table class="w-full text-left hidden lg:table">
                <thead class="bg-slate-900/50 text-slate-400 uppercase text-xs sticky top-0 backdrop-blur-sm">
                    <tr>
                        <th class="p-3">Дата</th><th class="p-3">Тикер</th><th class="p-3">Тип</th>
                        <th class="p-3">PnL</th><th class="p-3">Entry</th><th class="p-3">Маржа</th>
                    </tr>
                </thead>
                <tbody class="text-sm"><tr class="border-b border-slate-800 hover:bg-slate-700/50 transition-colors">
                    <td class="p-3 whitespace-nowrap text-slate-400">17.05.2025</td>
                    <td class="p-3 font-semibold whitespace-nowrap">KERNEL</td>
                    <td class="p-3"><span class="inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-green-500/10 text-green-400"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>Long</span></td>
                    <td class="p-3 font-mono text-slate-400">0.00%</td>
                    <td class="p-3 font-mono text-slate-400">22.566</td>
                    <td class="p-3 font-mono text-slate-400">X1</td>
                </tr></tbody>
            </table><div class="space-y-3 lg:hidden"><div class="p-3 rounded-lg bg-slate-800/50 border border-slate-700">
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-semibold">KERNEL</span>
                        <span class="inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-green-500/10 text-green-400"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>Long</span>
                        <span class="font-mono text-slate-400">0.00%</span>
                    </div>
                    <div class="flex justify-between items-center text-xs text-slate-400">
                        <span>17.05.2025</span>
                        <span>Entry: <span class="font-mono">22.566</span></span>
                        <span>Маржа: <span class="font-mono">X1</span></span>
                    </div>
                </div></div></div>
                </div>
            </div>
        </div>
        <footer class="text-center mt-12 text-slate-500 text-sm" style="animation: fadeIn 1s 0.5s ease-out backwards;">
            <p>Нашли ошибку? Свяжитесь с <a href="https://t.me/weeloser" target="_blank" class="text-cyan-400 hover:underline">@weeloser</a></p>
        </footer>
    </div>
    <div id="modal-backdrop" class="modal-backdrop active"></div>
    <div id="upload-modal" class="modal-content w-full max-w-sm active"><div class="card rounded-2xl p-8 text-center" style="transform: rotateX(-1.82266deg) rotateY(-1.04167deg);"><h3 class="text-xl font-bold mb-4">Обновление данных</h3><p class="text-slate-400 mb-6">Загрузите новый файл <code>stats.txt</code>.</p><input type="file" id="file-input" class="hidden" accept=".txt"><button onclick="document.getElementById('file-input').click()" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 px-4 rounded-lg transition-all">Выбрать файл</button></div></div>
    <div id="code-modal" class="modal-content w-full max-w-4xl"><div class="card rounded-2xl p-6"><h3 class="text-xl font-bold mb-4">Код обновленной страницы</h3><p class="text-slate-400 mb-4 text-sm">Скопируйте этот код и сохраните его как новый <code>index.html</code> файл.</p><textarea id="code-output" readonly="" class="w-full h-96 bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-xs text-slate-300 resize-none"></textarea><div class="flex gap-4 mt-4"><button id="copy-code-btn" class="flex-grow bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2.5 px-4 rounded-lg transition-all">Скопировать код</button><button onclick="closeAllModals()" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2.5 px-4 rounded-lg transition-all">Закрыть</button></div></div></div>
    <script id="stats-data-template" type="text/plain">--- Статистика: Илья Власов - Грабитель ММ ---
Чистое движение: 99.13%
Винрейт: 63.16%
Всего сделок: 96
Успешных: 48
Убыточных: 28
В безубыток: 23
В отработке: 0


Начало - 17.05.25
Последнее обновление - 25.07.25
Если нашли ошибку/опечатку = t.me/weeloser



--- Статистика: Илья Власов - Грабитель ММ ---

KERNEL (long)
Чистое движение: 5.69%
ENTRY: 0.2219
Маржа: X1
Фиксации: В ОТРАБОТКЕ 0.2368 (30%) 0.2382 (50%)
Дата: 25.07.2025

FARTCOIN (long)
Чистое движение: 0.00%
ENTRY: 1.3625
Маржа: X1
Фиксации: 1.3625 (100%)
Дата: 25.07.2025

TIA (long)
Чистое движение: -4.12%
ENTRY: 1.8943
Маржа: X1
Фиксации: 1.8163
Дата: 24.07.2025

INJ (long)
Чистое движение: 0.00%
ENTRY: 13.752
Маржа: X1
Фиксации: 13.752 (100%)
Дата: 24.07.2025

FLOKI (long)
Чистое движение: 0.00%
ENTRY: 0.00012881
Маржа: X1
Фиксации: 0.00012881 (100%)
Дата: 24.07.2025

RUNE (long)
Чистое движение: 0.00%
ENTRY: 1.457
Маржа: X0.75
Фиксации: 1.457
Дата: 24.07.2025

FLOKI (long)
Чистое движение: 1.10%
ENTRY: 0.00012839
Маржа: X1
Фиксации: 0.00013309 (30%) 0.00012839 (70%)
Дата: 24.07.2025

ONDO (long)
Чистое движение: 6.14%
ENTRY: 0.98
Маржа: X1
Фиксации: 1.0402 (100%)
Дата: 24.07.2025

NEAR (short)
Чистое движение: 2.69%
ENTRY: 2.7021
Маржа: X1
Фиксации: 2.605 (30%) 2.64 (70%)
Дата: 24.07.2025

PENGU (short)
Чистое движение: 2.63%
ENTRY: 0.040279
Маржа: X1
Фиксации: 0.038633 (30%) 0.03947 (70%)
Дата: 24.07.2025

ENS (short)
Чистое движение: 1.15%
ENTRY: 27.994
Маржа: X1
Фиксации: 26.925 (30%) 27.994 (70%)
Дата: 23.07.2025

UNI (short)
Чистое движение: 0.33%
ENTRY: 9.949
Маржа: X1
Фиксации: 9.916 (100%)
Дата: 23.07.2025

ENS (short)
Чистое движение: 1.15%
ENTRY: 27.994
Маржа: X1
Фиксации: 26.925 (30%)
Дата: 23.07.2025

LDO (short)
Чистое движение: -4.11%
ENTRY: 1.1553
Маржа: X1
Фиксации: 1.2028 (100%)
Дата: 22.07.2025

OP (long)
Чистое движение: 0.00%
ENTRY: 0.8025
Маржа: X1
Фиксации: 0.8025 (100%)
Дата: 21.07.2025

ONDO (long)
Чистое движение: 0.00%
ENTRY: 1.0676
Маржа: X1
Фиксации: 1.0676 (100%)
Дата: 18.07.2025

ONDO (long)
Чистое движение: -3.09%
ENTRY: 1.0283
Маржа: X1
Фиксации: 0.9965 (100%)
Дата: 17.07.2025

FARTCOIN (long)
Чистое движение: 5.44%
ENTRY: 1.2524
Маржа: X0.5
Фиксации: 1.3669 (30%) 1.3979 (70%)
Дата: 16.07.2025

HYPE (short)
Чистое движение: 0.87%
ENTRY: 47.582
Маржа: X0.5
Фиксации: 43.42 (20%)
Дата: 15.07.2025

UNI (long)
Чистое движение: -3.16%
ENTRY: 9.45
Маржа: X1
Фиксации: 9.151 (100%)
Дата: 14.07.2025

AUCTION (short)
Чистое движение: 0.00%
ENTRY: 11.828
Маржа: X0.5
Фиксации: 11.828 (100%)
Дата: 13.07.2025

PENGU (long)
Чистое движение: 7.44%
ENTRY: 0.022496
Маржа: X1
Фиксации: 0.023167 (30%) 0.024601 (70%)
Дата: 12.07.2025

BLUR (short)
Чистое движение: -2.26%
ENTRY: 0.08455
Маржа: X0.75
Фиксации: 0.0871 (100%)
Дата: 12.07.2025

OP (long)
Чистое движение: 4.57%
ENTRY: 0.5945
Маржа: X1
Фиксации: 0.6093 (30%) 0.627 (70%)
Дата: 10.07.2025

AAVE (long)
Чистое движение: 3.20%
ENTRY: 300.55
Маржа: X0.75
Фиксации: 313.38 (100%)
Дата: 10.07.2025

PEPE (long)
Чистое движение: 6.10%
ENTRY: 0.0000111256
Маржа: X1
Фиксации: 0.0000116546 (30%) 0.0000118681 (70%)
Дата: 10.07.2025

ENA (long)
Чистое движение: 6.81%
ENTRY: 0.2599
Маржа: X1
Фиксации: 0.2685 (30%) 0.2815 (70%)
Дата: 08.07.2025

POPCAT (long)
Чистое движение: 0.00%
ENTRY: 0.2864
Маржа: X1
Фиксации: 0.2864 (100%)
Дата: 08.07.2025

TIA (short)
Чистое движение: 0.00%
ENTRY: 1.5821
Маржа: X1
Фиксации: 1.5821 (100%)
Дата: 07.07.2025

AI16Z (short)
Чистое движение: -0.85%
ENTRY: 0.1493
Маржа: X0.75
Фиксации: 0.151 (100%)
Дата: 07.07.2025

JUP (short)
Чистое движение: 0.00%
ENTRY: 0.4394
Маржа: X1
Фиксации: 0.4394 (100%)
Дата: 05.07.2025

LDO (short)
Чистое движение: 0.94%
ENTRY: 0.7552
Маржа: X1
Фиксации: 0.7315 (30%) 0.7552 (70%)
Дата: 04.07.2025

LINK (short)
Чистое движение: 0.00%
ENTRY: 13.289
Маржа: X1
Фиксации: 13.289 (100%)
Дата: 04.07.2025

ORDI (short)
Чистое движение: 5.92%
ENTRY: 8.166
Маржа: X1
Фиксации: 7.906 (30%) 7.587 (70%)
Дата: 03.07.2025

UNI (short)
Чистое движение: 6.90%
ENTRY: 7.635
Маржа: X1
Фиксации: 7.372 (30%) 6.995 (70%)
Дата: 03.07.2025

WIF (short)
Чистое движение: 0.98%
ENTRY: 0.9167
Маржа: X1
Фиксации: 0.8867 (30%) 0.9167 (70%)
Дата: 03.07.2025

POPCAT (short)
Чистое движение: 3.07%
ENTRY: 0.2932
Маржа: X1
Фиксации: 0.2825 (30%) 0.2735 (20%) 0.2895 (50%)
Дата: 01.07.2025

UNI (short)
Чистое движение: 0.95%
ENTRY: 7.04
Маржа: X1
Фиксации: 6.706 (20%) 7.04 (80%)
Дата: 01.07.2025

TAO (short)
Чистое движение: -1.56%
ENTRY: 332.32
Маржа: X0.5
Фиксации: 342.7 (100%)
Дата: 30.06.2025

W (short)
Чистое движение: -4.21%
ENTRY: 0.0737
Маржа: X1
Фиксации: 0.0768 (100%)
Дата: 28.06.2025

W (short)
Чистое движение: -4.03%
ENTRY: 0.07595
Маржа: X1.25
Фиксации: 0.0784 (100%)
Дата: 28.06.2025

BIGTIME (short)
Чистое движение: -3.37%
ENTRY: 0.04949
Маржа: X1
Фиксации: 0.05116 (100%)
Дата: 27.06.2025

JUP (short)
Чистое движение: 0.00%
ENTRY: 0.403
Маржа: X1
Фиксации: 0.403 (100%)
Дата: 26.06.2025

ARB (short)
Чистое движение: 0.00%
ENTRY: 0.3151
Маржа: X1
Фиксации: 0.3151 (100%)
Дата: 25.06.2025

GPS (short)
Чистое движение: 0.48%
ENTRY: 0.0353
Маржа: X0.5
Фиксации: 0.0336 (20%) 0.0353 (70%)
Дата: 25.06.2025

GPS (short)
Чистое движение: 4.49%
ENTRY: 0.0342
Маржа: X0.5
Фиксации: 0.0319 (30%) 0.0308 (70%)
Дата: 25.06.2025

SUI (short)
Чистое движение: 4.36%
ENTRY: 2.7609
Маржа: X1
Фиксации: 2.6283 (30%) 2.6456 (70%)
Дата: 24.06.2025

PEPE (long)
Чистое движение: 0.00%
ENTRY: 0.0089358
Маржа: X1
Фиксации: 0.0089358 (100%)
Дата: 23.06.2025

SEI (long)
Чистое движение: 0.00%
ENTRY: 0.195
Маржа: X0.5
Фиксации: 0.195 (100%)
Дата: 22.06.2025

FARTCOIN (long)
Чистое движение: 0.00%
ENTRY: 0.8575
Маржа: X1
Фиксации: 0.8575 (100%)
Дата: 22.06.2025

FARTCOIN (long)
Чистое движение: -1.48%
ENTRY: 0.8598
Маржа: X0.5
Фиксации: 0.8344 (100%)
Дата: 22.06.2025

ONDO (short)
Чистое движение: 3.78%
ENTRY: 0.726
Маржа: X1
Фиксации: 0.7096 (20%) 0.6958 (80%)
Дата: 21.06.2025

POPCAT (long)
Чистое движение: -4.16%
ENTRY: 0.2983
Маржа: X1
Фиксации: 0.2859 (100%)
Дата: 20.06.2025

INJ (long)
Чистое движение: 0.21%
ENTRY: 11.345
Маржа: X1
Фиксации: 11.425 (30%) 11.345 (70%)
Дата: 18.06.2025

LINK (short)
Чистое движение: 1.18%
ENTRY: 12.925
Маржа: X1
Фиксации: 12.772 (100%)
Дата: 18.06.2025

ENS (long)
Чистое движение: -4.22%
ENTRY: 19.826
Маржа: X1
Фиксации: 18.989 (100%)
Дата: 18.06.2025

AVAX (short)
Чистое движение: 0.00%
ENTRY: 268.25
Маржа: X1
Фиксации: 268.25 (100%)
Дата: 17.06.2025

ZKJ (long)
Чистое движение: -2.24%
ENTRY: 0.4394
Маржа: X0.25
Фиксации: 0.4 (100%)
Дата: 17.06.2025

PNUT (long)
Чистое движение: 0.00%
ENTRY: 0.24207
Маржа: X1
Фиксации: 0.24207 (100%)
Дата: 16.06.2025

JTO (short)
Чистое движение: -3.35%
ENTRY: 2.164
Маржа: X1
Фиксации: 2.2366 (100%)
Дата: 15.06.2025

AAVE (long)
Чистое движение: -2.49%
ENTRY: 276.61
Маржа: X1
Фиксации: 269.72 (100%)
Дата: 15.06.2025

LINK (long)
Чистое движение: -4.45%
ENTRY: 13.544
Маржа: X1
Фиксации: 12.941 (100%)
Дата: 13.06.2025

UNI (short)
Чистое движение: 7.25%
ENTRY: 7.926
Маржа: X1
Фиксации: 7.638 (30%) 7.229 (70%)
Дата: 12.06.2025

AVAAI (long)
Чистое движение: 1.16%
ENTRY: 0.03954
Маржа: X1
Фиксации: 0.04107 (30%)
Дата: 08.06.2025

LINK (long)
Чистое движение: 6.43%
ENTRY: 13.819
Маржа: X1
Фиксации: 14.446 (30%) 14.819 (70%)
Дата: 08.06.2025

WIF (long)
Чистое движение: -3.36%
ENTRY: 0.8963
Маржа: X1
Фиксации: 0.8662 (100%)
Дата: 07.06.2025

FARTCOIN (long)
Чистое движение: 1.68%
ENTRY: 0.9951
Маржа: X1
Фиксации: 1.0509 (30%)
Дата: 07.06.2025

POPCAT (long)
Чистое движение: 1.31%
ENTRY: 0.3463
Маржа: X1
Фиксации: 0.3614 (30%)
Дата: 07.06.2025

FARTCOIN (long)
Чистое движение: -2.38%
ENTRY: 1.0507
Маржа: X0.5
Фиксации: 1.0007 (100%)
Дата: 06.06.2025

LQTY (short)
Чистое движение: 6.44%
ENTRY: 0.09687
Маржа: X1
Фиксации: 0.09063 (100%)
Дата: 05.06.2025

APE (short)
Чистое движение: 6.77%
ENTRY: 0.7417
Маржа: X1
Фиксации: 0.7015 (50%) 0.6815 (50%)
Дата: 04.06.2025

ARC (short)
Чистое движение: 7.15%
ENTRY: 0.04487
Маржа: X1
Фиксации: 0.04166 (100%)
Дата: 04.06.2025

ARC (short)
Чистое движение: 0.00%
ENTRY: 0.04482
Маржа: X1
Фиксации: 0.04482 (100%)
Дата: 04.06.2025

FARTCOIN (short)
Чистое движение: -1.62%
ENTRY: 1.085
Маржа: X0.5
Фиксации: 1.1201 (100%)
Дата: 02.06.2025

AVAX (long)
Чистое движение: 0.00%
ENTRY: 20.498
Маржа: X1
Фиксации: 20.498 (100%)
Дата: 31.05.2025

AAVE (long)
Чистое движение: -3.35%
ENTRY: 252.19
Маржа: X1
Фиксации: 243.74 (100%)
Дата: 30.05.2025

INJ (short)
Чистое движение: 0.00%
ENTRY: 13.112
Маржа: X1
Фиксации: 13.112 (100%)
Дата: 30.05.2025

ONDO (short)
Чистое движение: 5.35%
ENTRY: 0.9014
Маржа: X1
Фиксации: 0.8731 (50%) 0.8332 (50%)
Дата: 30.05.2025

INJ (short)
Чистое движение: 0.69%
ENTRY: 14.124
Маржа: X1
Фиксации: 13.8 (30%)
Дата: 30.05.2025

WIF (short)
Чистое движение: 6.44%
ENTRY: 1.0681
Маржа: X1
Фиксации: 0.9993 (100%)
Дата: 29.05.2025

FARTCOIN (short)
Чистое движение: 3.53%
ENTRY: 1.2424
Маржа: X0.5
Фиксации: 1.1547 (100%)
Дата: 29.05.2025

PEPE (short)
Чистое движение: 5.65%
ENTRY: 0.0000140714
Маржа: X1
Фиксации: 0.0000136603 (30%) 0.0000131119 (70%)
Дата: 29.05.2025

AAVE (short)
Чистое движение: -2.85%
ENTRY: 261.31
Маржа: X1
Фиксации: 268.77 (100%)
Дата: 28.05.2025

SUI (short)
Чистое движение: -3.28%
ENTRY: 3.5275
Маржа: X1
Фиксации: 3.6432 (100%)
Дата: 28.05.2025

TURBO (long)
Чистое движение: 0.00%
ENTRY: 0.005209
Маржа: X1
Фиксации: 0.005209 (100%)
Дата: 28.05.2025

LDO (long)
Чистое движение: 2.23%
ENTRY: 0.9091
Маржа: X1
Фиксации: 0.9496 (50%)
Дата: 27.05.2025

AI16Z (long)
Чистое движение: 5.61%
ENTRY: 0.3014
Маржа: X1
Фиксации: 0.3183 (100%)
Дата: 27.05.2025

RUNE (long)
Чистое движение: -1.97%
ENTRY: 1.98
Маржа: X1
Фиксации: 1.941 (100%)
Дата: 26.05.2025

FARTCOIN (long)
Чистое движение: -1.82%
ENTRY: 1.514
Маржа: X0.5
Фиксации: 1.4588 (100%)
Дата: 23.05.2025

ETHFI (long)
Чистое движение: -4.04%
ENTRY: 1.2933
Маржа: X1
Фиксации: 1.2411 (100%)
Дата: 23.05.2025

FARTCOIN (long)
Чистое движение: 1.55%
ENTRY: 1.5518
Маржа: X1
Фиксации: 1.6319 (30%)
Дата: 23.05.2025

AIXBT (long)
Чистое движение: 4.63%
ENTRY: 0.18543
Маржа: X1
Фиксации: 0.1917 (30%) 0.195 (70%)
Дата: 21.05.2025

WCT (long)
Чистое движение: -2.58%
ENTRY: 0.6911
Маржа: X0.5
Фиксации: 0.6554 (100%)
Дата: 21.05.2025

GRIFFAIN (long)
Чистое движение: 4.47%
ENTRY: 0.10263
Маржа: X0.5
Фиксации: 0.1118 (100%)
Дата: 20.05.2025

AAVE (long)
Чистое движение: 7.10%
ENTRY: 224.67
Маржа: X1
Фиксации: 233.17 (30%) 243.8 (70%)
Дата: 19.05.2025

LINK (long)
Чистое движение: 5.86%
ENTRY: 15.287
Маржа: X1
Фиксации: 15.722 (30%) 16.38 (70%)
Дата: 19.05.2025

GRIFFAIN (short)
Чистое движение: 1.34%
ENTRY: 0.10511
Маржа: X1
Фиксации: 0.1004 (30%)
Дата: 18.05.2025

UNI (long)
Чистое движение: 1.79%
ENTRY: 5.763
Маржа: X0.5
Фиксации: 5.969 (100%)
Дата: 17.05.2025

PEPE (short)
Чистое движение: -2.29%
ENTRY: 0.0000123186
Маржа: X0.5
Фиксации: 0.0000128829 (100%)
Дата: 17.05.2025

AVAX (short)
Чистое движение: 0.00%
ENTRY: 22.566
Маржа: X1
Фиксации: 22.566 (100%)
Дата: 17.05.2025
</script>
    <script>
    function pageController(statsTextContent) {
        let STATS_DATA = { summary: {}, trades: [] };
        const PLOTLY_CONFIG = { displayModeBar: false, responsive: true };
        const PLOTLY_LAYOUT_DARK = {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#e2e8f0', family: 'Inter, sans-serif' },
            xaxis: { gridcolor: 'rgba(51, 65, 85, 0.3)', linecolor: '#334155', zeroline: false },
            yaxis: { gridcolor: 'rgba(51, 65, 85, 0.3)', linecolor: '#334155', zeroline: false },
            legend: { font: { color: '#e2e8f0' } }
        };

        function parseStatsData(textContent) {
            const parts = textContent.split(/--- Статистика:.*?---/);
            let summary = {}, trades = [];
            if (parts.length > 1) {
                const summaryMatch = parts[1].match(/Чистое движение: (.*?)\nВинрейт: (.*?)\nВсего сделок: (.*?)\nУспешных: (.*?)\nУбыточных: (.*?)\nВ безубыток: (.*?)\nВ отработке: (.*?)\n\n\nНачало - (.*?)\nПоследнее обновление - (.*?)\n/);
                if (summaryMatch) {
                    const keys = ["total_pnl", "winrate", "total_deals", "successful", "losing", "breakeven", "in_progress", "start_date", "last_update"];
                    summary = Object.fromEntries(keys.map((key, i) => [key, summaryMatch[i + 1].trim()]));
                }
            }
            if (parts.length > 2) {
                parts[2].trim().split('\n\n').forEach(block => {
                    if (!block.trim()) return;
                    let trade = {};
                    const lines = block.trim().split('\n');
                    const titleMatch = lines[0].match(/(.+?)\s+\((long|short)\)/);
                    if (!titleMatch) return;
                    trade.ticker = titleMatch[1].trim();
                    trade.type = titleMatch[2].trim();
                    const keyMap = { 'чистое движение': 'pnl', 'entry': 'entry', 'маржа': 'margin', 'фиксации': 'exits', 'дата': 'date' };
                    lines.slice(1).forEach(line => {
                        const [key, ...valueParts] = line.split(':');
                        if (valueParts.length > 0 && keyMap[key.trim().toLowerCase()]) {
                            trade[keyMap[key.trim().toLowerCase()]] = valueParts.join(':').trim();
                        }
                    });
                    if (trade.pnl) trade.pnl_value = parseFloat(trade.pnl.replace('%', '').replace(',', '.'));
                    trades.push(trade);
                });
            }
            return { summary, trades };
        }

        function calculateSimulation(trades, simType, initialBalance, riskPercent, leverage) {
            let currentBalance = initialBalance;
            const balanceHistory = [0.0];
            const chronoTrades = [...trades].reverse();
            for (const trade of chronoTrades) {
                const pnlPercent = trade.pnl_value || 0.0;
                const tradeCapital = simType === 'compound' ? currentBalance * (riskPercent / 100.0) : initialBalance * (riskPercent / 100.0);
                const positionSize = tradeCapital * leverage;
                const profitOrLoss = positionSize * (pnlPercent / 100.0);
                currentBalance += profitOrLoss;
                const growthPercent = initialBalance > 0 ? (currentBalance / initialBalance - 1) * 100 : 0;
                balanceHistory.push(growthPercent);
            }
            return {
                final_percent: balanceHistory[balanceHistory.length - 1],
                final_balance: currentBalance,
                history: balanceHistory
            };
        }

        function renderSummary(summary) {
            document.getElementById('summary-total_pnl').textContent = summary.total_pnl || 'N/A';
            document.getElementById('summary-winrate').textContent = summary.winrate || 'N/A';
            document.getElementById('summary-total_deals').textContent = summary.total_deals || 'N/A';
            document.getElementById('last-update').textContent = `Последнее обновление: ${summary.last_update || 'N/A'}`;
        }

        function plotSummaryChart(summary) {
            const data = [{
                values: [ parseInt(summary.successful || 0), parseInt(summary.losing || 0), parseInt(summary.breakeven || 0) ],
                labels: ['Успешных', 'Убыточных', 'В безубыток'],
                hole: .7, type: 'pie',
                marker: { colors: ['#10b981', '#f43f5e', '#64748b'], line: { color: '#0f172a', width: 2 } },
                textinfo: 'none', 
                hovertemplate: '<b>%{label}</b><br>%{value} сделок<extra></extra>'
            }];
            const layout = { ...PLOTLY_LAYOUT_DARK, showlegend: false, margin: { t: 0, b: 0, l: 0, r: 0 } };
            Plotly.newPlot('summary-chart', data, layout, PLOTLY_CONFIG);
        }

        function plotPnlChart(trades) {
            const chronoTrades = [...trades].reverse();
            let cumulativePnl = 0;
            const pnlHistory = chronoTrades.map(trade => cumulativePnl += trade.pnl_value || 0);
            const hoverTexts = chronoTrades.map(row => `<b>${row.ticker} (${row.type})</b><br>Дата: ${row.date}<br>PnL: ${(row.pnl_value || 0).toFixed(2)}%`);
            const data = [{
                x: Array.from({length: pnlHistory.length}, (_, i) => i + 1),
                y: pnlHistory,
                mode: 'lines', type: 'scatter',
                line: { color: '#22d3ee', width: 3, shape: 'spline' },
                fill: 'tozeroy',
                fillcolor: 'rgba(14, 165, 233, 0.1)',
                customdata: hoverTexts,
                hovertemplate: "%{customdata}<br><b>Итог: %{y:.2f}%</b><extra></extra>"
            }];
            const layout = { ...PLOTLY_LAYOUT_DARK, xaxis: { ...PLOTLY_LAYOUT_DARK.xaxis, title: 'Номер сделки' }, yaxis: { ...PLOTLY_LAYOUT_DARK.yaxis, title: 'Кумулятивный PnL (%)' }, margin: { t: 20, b: 40, l: 60, r: 20 },
                hoverlabel: { bgcolor: "#0f172a", bordercolor: "#22d3ee", font: {color: "#e2e8f0", family: 'Inter, sans-serif'} }
            };
            Plotly.newPlot('pnl-chart', data, layout, PLOTLY_CONFIG);
        }

        function renderTradesTable(trades) {
            const container = document.getElementById('trades-list-container');
            container.innerHTML = '';
            
            const table = document.createElement('table');
            table.className = 'w-full text-left hidden lg:table';
            table.innerHTML = `
                <thead class="bg-slate-900/50 text-slate-400 uppercase text-xs sticky top-0 backdrop-blur-sm">
                    <tr>
                        <th class="p-3">Дата</th><th class="p-3">Тикер</th><th class="p-3">Тип</th>
                        <th class="p-3">PnL</th><th class="p-3">Entry</th><th class="p-3">Маржа</th>
                    </tr>
                </thead>
                <tbody class="text-sm"></tbody>
            `;
            const tbody = table.querySelector('tbody');

            const mobileList = document.createElement('div');
            mobileList.className = 'space-y-3 lg:hidden';

            trades.forEach(trade => {
                const pnlValue = trade.pnl_value || 0;
                const pnlColor = pnlValue > 0 ? 'text-green-400' : pnlValue < 0 ? 'text-red-400' : 'text-slate-400';
                const typePill = trade.type === 'long' 
                    ? `<span class="inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-green-500/10 text-green-400"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" /></svg>Long</span>`
                    : `<span class="inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-red-500/10 text-red-400"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>Short</span>`;
                
                const tableRow = document.createElement('tr');
                tableRow.className = 'border-b border-slate-800 hover:bg-slate-700/50 transition-colors';
                tableRow.innerHTML = `
                    <td class="p-3 whitespace-nowrap text-slate-400">${trade.date || 'N/A'}</td>
                    <td class="p-3 font-semibold whitespace-nowrap">${trade.ticker || 'N/A'}</td>
                    <td class="p-3">${typePill}</td>
                    <td class="p-3 font-mono ${pnlColor}">${trade.pnl || 'N/A'}</td>
                    <td class="p-3 font-mono text-slate-400">${trade.entry || 'N/A'}</td>
                    <td class="p-3 font-mono text-slate-400">${trade.margin || 'N/A'}</td>
                `;
                tbody.appendChild(tableRow);

                const mobileBlock = document.createElement('div');
                mobileBlock.className = 'p-3 rounded-lg bg-slate-800/50 border border-slate-700';
                mobileBlock.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-semibold">${trade.ticker || 'N/A'}</span>
                        ${typePill}
                        <span class="font-mono ${pnlColor}">${trade.pnl || 'N/A'}</span>
                    </div>
                    <div class="flex justify-between items-center text-xs text-slate-400">
                        <span>${trade.date || 'N/A'}</span>
                        <span>Entry: <span class="font-mono">${trade.entry || 'N/A'}</span></span>
                        <span>Маржа: <span class="font-mono">${trade.margin || 'N/A'}</span></span>
                    </div>
                `;
                mobileList.appendChild(mobileBlock);
            });
            
            container.appendChild(table);
            container.appendChild(mobileList);
        }

        function animateValue(obj, start, end, duration, isMoney = false, isPercent = false) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const currentVal = progress * (end - start) + start;
                if (isPercent) obj.innerHTML = `${currentVal.toFixed(2)}%`;
                else if (isMoney) obj.innerHTML = `$${currentVal.toLocaleString('en-US', { maximumFractionDigits: 0 })}`;
                else obj.innerHTML = currentVal.toFixed(2);
                if (progress < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }

        function renderSimulationResults(results, initialBalance) {
            const resultsSection = document.getElementById('simulation-section');
            const resultsDiv = document.getElementById('simulation-results');
            const finalLabel = results.final_percent >= 0 ? "Итоговая прибыль" : "Итоговый убыток";
            const xDepo = initialBalance > 0 ? results.final_balance / initialBalance : 0;
            resultsSection.classList.remove('hidden');
            resultsDiv.innerHTML = `
                <div class="text-center md:text-left">
                    <p class="text-sm text-slate-400">${finalLabel}</p>
                    <p id="sim-final-percent" class="text-4xl font-extrabold ${results.final_percent >= 0 ? 'text-green-400' : 'text-red-400'} my-1">0.00%</p>
                    <p id="sim-final-balance" class="text-lg font-bold text-white">$0</p>
                    <p class="text-sm text-slate-400">Множитель: <span id="sim-x-depo">0.00</span>x</p>
                </div>`;
            
            const simChartData = [{
                x: Array.from({length: results.history.length}, (_, i) => i),
                y: results.history,
                mode: 'lines', type: 'scatter',
                line: { color: results.final_percent >= 0 ? '#10b981' : '#f43f5e', width: 2.5, shape: 'spline' },
                fill: 'tozeroy',
                fillcolor: results.final_percent >= 0 ? 'rgba(16, 185, 129, 0.2)' : 'rgba(244, 63, 94, 0.2)',
                hovertemplate: 'Сделка №%{x}<br><b>Прибыль: %{y:.2f}%</b><extra></extra>'
            }];
            const simChartLayout = { ...PLOTLY_LAYOUT_DARK, yaxis: { autorange: true }, xaxis: { ...PLOTLY_LAYOUT_DARK.xaxis }, margin: { t: 20, b: 20, l: 40, r: 20 } };
            Plotly.newPlot('simulation-chart', simChartData, simChartLayout, PLOTLY_CONFIG);

            animateValue(document.getElementById('sim-final-percent'), 0, results.final_percent, 1500, false, true);
            animateValue(document.getElementById('sim-final-balance'), initialBalance, results.final_balance, 1500, true);
            animateValue(document.getElementById('sim-x-depo'), 0, xDepo, 1500);
        }

        function initPage() {
            STATS_DATA = parseStatsData(statsTextContent);
            renderSummary(STATS_DATA.summary);
            plotSummaryChart(STATS_DATA.summary);
            plotPnlChart(STATS_DATA.trades);
            renderTradesTable(STATS_DATA.trades);
            document.getElementById('custom-sim-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const simType = e.submitter.dataset.simType;
                const balance = parseFloat(document.getElementById('balance').value) || 1000;
                const risk = parseFloat(document.getElementById('risk').value) || 3;
                const leverage = parseFloat(document.getElementById('leverage').value) || 35;
                const results = calculateSimulation(STATS_DATA.trades, simType, balance, risk, leverage);
                renderSimulationResults(results, balance);
            });
            document.getElementById('balance').addEventListener('input', (e) => {
                if (e.target.value === '09210921') {
                    setTimeout(() => {
                        openModal(document.getElementById('upload-modal'));
                        e.target.value = '1000';
                    }, 200);
                }
            });
        }
        initPage();
    }

    document.addEventListener('DOMContentLoaded', () => {
        const initialStatsText = document.getElementById('stats-data-template').textContent;
        pageController(initialStatsText);

        const canvas = document.getElementById('background-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            let particlesArray;
            
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resizeCanvas();

            class Particle {
                constructor(x, y, directionX, directionY, size, color) {
                    this.x = x; this.y = y; this.directionX = directionX;
                    this.directionY = directionY; this.size = size; this.color = color;
                }
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
                update() {
                    if (this.x > canvas.width + this.size || this.x < -this.size) this.directionX = -this.directionX;
                    if (this.y > canvas.height + this.size || this.y < -this.size) this.directionY = -this.directionY;
                    this.x += this.directionX;
                    this.y += this.directionY;
                    this.draw();
                }
            }

            function initParticles() {
                particlesArray = [];
                let numberOfParticles = (canvas.height * canvas.width) / 15000;
                const colors = ['rgba(16, 185, 129, 0.3)', 'rgba(14, 165, 233, 0.3)'];
                for (let i = 0; i < numberOfParticles; i++) {
                    let size = (Math.random() * 5) + 1;
                    let x = Math.random() * canvas.width;
                    let y = Math.random() * canvas.height;
                    let directionX = (Math.random() * .4) - .2;
                    let directionY = (Math.random() * .4) - .2;
                    let color = colors[Math.floor(Math.random() * colors.length)];
                    particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
                }
            }

            function connectParticles() {
                let opacityValue = 1;
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a; b < particlesArray.length; b++) {
                        let distance = ((particlesArray[a].x - particlesArray[b].x) ** 2) + ((particlesArray[a].y - particlesArray[b].y) ** 2);
                        if (distance < (canvas.width/10) * (canvas.height/10)) {
                            opacityValue = 1 - (distance/20000);
                            ctx.strokeStyle = `rgba(55, 65, 81, ${opacityValue})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            function animateParticles() {
                requestAnimationFrame(animateParticles);
                ctx.clearRect(0, 0, innerWidth, innerHeight);
                for (let i = 0; i < particlesArray.length; i++) {
                    particlesArray[i].update();
                }
                connectParticles();
            }
            
            initParticles();
            animateParticles();
            window.addEventListener('resize', () => {
                resizeCanvas();
                initParticles();
            });
        }

        const backdrop = document.getElementById('modal-backdrop');
        const uploadModal = document.getElementById('upload-modal');
        const codeModal = document.getElementById('code-modal');
        const fileInput = document.getElementById('file-input');
        const codeOutput = document.getElementById('code-output');
        const copyCodeBtn = document.getElementById('copy-code-btn');

        window.openModal = (modal) => {
            backdrop.classList.add('active');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
        }
        window.closeAllModals = () => {
            backdrop.classList.remove('active');
            [uploadModal, codeModal].forEach(modal => {
                modal.classList.remove('active');
                setTimeout(() => modal.classList.add('hidden'), 300);
            });
        }
        backdrop.addEventListener('click', closeAllModals);
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeAllModals(); });

        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const newContent = e.target.result;
                    pageController(newContent);
                    const currentHtml = document.documentElement.outerHTML;
                    const oldStatsText = document.getElementById('stats-data-template').textContent;
                    const newHtml = currentHtml.replace(oldStatsText, newContent);
                    codeOutput.value = newHtml;
                    closeAllModals();
                    setTimeout(() => openModal(codeModal), 350);
                };
                reader.readAsText(file);
            }
        });

        copyCodeBtn.addEventListener('click', () => {
            codeOutput.select();
            document.execCommand('copy');
            copyCodeBtn.textContent = 'Скопировано!';
            setTimeout(() => { copyCodeBtn.textContent = 'Скопировать код'; }, 2000);
        });

        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mousemove', e => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const rotateX = (y / rect.height - 0.5) * -10;
                const rotateY = (x / rect.width - 0.5) * 10;
                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'rotateX(0deg) rotateY(0deg)';
            });
        });
        
        const auroraBg = document.getElementById('aurora-background');
        if (auroraBg) {
            window.addEventListener('mousemove', e => {
                auroraBg.style.setProperty('--mouse-x', `${e.clientX}px`);
                auroraBg.style.setProperty('--mouse-y', `${e.clientY}px`);
            });
        }
    });
    </script>


<svg id="js-plotly-tester" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: absolute; left: -10000px; top: -10000px; width: 9000px; height: 9000px; z-index: 1;"><path class="js-reference-point" d="M0,0H1V1H0Z" style="stroke-width: 0; fill: black;"></path></svg></body></html>
